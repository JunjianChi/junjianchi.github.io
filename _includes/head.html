<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>{% if page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
<meta name="description" content="{{ page.description | default: site.description }}" />

<!-- Open Graph -->
<meta property="og:title" content="{{ page.title | default: site.title }}" />
<meta property="og:description" content="{{ page.description | default: site.description }}" />
<meta property="og:type" content="website" />
<meta property="og:url" content="{{ page.url | absolute_url }}" />

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#x1F393;</text></svg>" />

<!-- Styles -->
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}" />

<!-- Feed -->
{% feed_meta %}

<!-- Theme + Language: apply before paint -->
<script>
  (function() {
    var theme = localStorage.getItem('jc-theme') ||
      (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    var lang = localStorage.getItem('jc-lang') ||
      (navigator.language.startsWith('zh') ? 'zh' : 'en');
    document.documentElement.setAttribute('data-theme', theme);
    document.documentElement.setAttribute('data-lang', lang);
  })();
</script>
